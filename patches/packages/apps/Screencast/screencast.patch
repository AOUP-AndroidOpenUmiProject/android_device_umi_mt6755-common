From 9a0c09805d65b2c749e63de55cba9efde997c94e Mon Sep 17 00:00:00 2001
From: LineageOS-MTK <luzejij@binka.me>
Date: Tue, 7 Feb 2017 17:12:31 +0300
Subject: [PATCH] Set encoder to OMX.google.h264.encoder

---
 src/org/cyanogenmod/screencast/EncoderDevice.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/org/cyanogenmod/screencast/EncoderDevice.java b/src/org/cyanogenmod/screencast/EncoderDevice.java
index 64715c2..9c3748b 100644
--- a/src/org/cyanogenmod/screencast/EncoderDevice.java
+++ b/src/org/cyanogenmod/screencast/EncoderDevice.java
@@ -307,7 +307,7 @@ public void start(Attributes attributes) {
         // create a surface from the encoder
         Log.i(LOGTAG, "Starting encoder at " + width + "x" + height);
         try {
-            venc = MediaCodec.createEncoderByType("video/avc");
+            venc = MediaCodec.createByCodecName("OMX.google.h264.encoder");
         } catch (IOException e) {
             Log.wtf(LOGTAG, "Can't create AVC encoder!", e);
         }
